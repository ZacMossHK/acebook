  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{title}}</title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
  </head>
<body>

  <div class="post-feed-container">
  <h1>Timeline</h1>

  <a class="new-post-link" href="/posts/new">New post</a>

  <div class = "posts">
    {{#each posts}}
  <ul>
    <li>{{this.message}}</li>
    <li>{{this.user_id.username}}</li>
    <li>{{this.time_posted}}</li>
    
    <div class = "likes-container">
      <div class="post-like-counter" id="counter-{{this._id}}">{{this.likes.length}}</div>
      <button class="like-button" id="button-{{this._id}}">
        <img src="/images/thumbs-up.png" width="20" height="20" alt="thumbs-up-button" />
      </button>

      <script type="text/javascript">
        document.getElementById("button-{{this._id}}").addEventListener('click', () => {
        fetch( "/likes/new/" + "{{this._id}}", {method: 'PUT'})
          .then(response => response.json())
          .then(result => document.getElementById("counter-{{this._id}}").textContent = result.counter) })
      </script>
    </div>
  </ul>
  </div> 
  {{/each}}

  </div>
</body>


